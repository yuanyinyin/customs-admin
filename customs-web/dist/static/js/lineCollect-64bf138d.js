import{d as e,u as a,p as l,l as t,r as n,ah as o,a as r,g as s,j as i,y as u,f as d,w as c,ad as p,X as m,b as f,k as v,K as g,i as b,Y as h,J as y,E as _}from"./vendor-78a6dd30.js";import{p as w}from"./dateTime-1b081a2f.js";import C from"./dialogLine-769a9634.js";import{h as x}from"./index-30d780dc.js";import"./baiduMap-16ac0abf.js";const P={class:"LogContainer scroll-y"},j={class:"head-container m-1 mr-3 rowSS"},k={class:"filter-item"},V=g("查询"),z=i("div",{class:"clearfix"},[i("span",null,"岸线采集列表")],-1),L=g("查看详情"),K=g("删除"),T={class:"block columnCC mt-2"},S=e({setup(e){const S=a(),U=l(null),B=l(null),A=l({});let E=l({});const J=l({page:1,limit:10});t((()=>{M()}));const M=()=>{S.dispatch("line/getLinesList",J._rawValue).then((e=>{U.value=e.data.items,B.value=e.data.total})).catch((e=>{}))},N=()=>{J.page=1,M()},X=e=>{switch(e.status){case"0":return"暂存";case"1":return"待审核";case"2":return"审核通过";case"3":return"审核未通过"}};return(e,a)=>{const l=n("el-input"),t=n("el-form-item"),S=n("el-option"),Y=n("el-select"),$=n("el-button"),q=n("el-form"),D=n("el-table-column"),F=n("el-button-group"),G=n("el-table"),H=n("el-pagination"),I=n("el-card"),O=o("loading");return r(),s("div",P,[i("div",j,[u(" 查询工具条 "),d(q,{inline:!0,model:J.value,class:"demo-form-inline"},{default:c((()=>[d(t,{label:"点位名称"},{default:c((()=>[d(l,{modelValue:J.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>J.value.name=e),placeholder:"点位名称",class:"filter-item",onKeyup:p(N,["enter"]),clearable:""},null,8,["modelValue","onKeyup"])])),_:1}),d(t,{label:"点位所在地区"},{default:c((()=>[d(Y,{modelValue:J.value.area,"onUpdate:modelValue":a[1]||(a[1]=e=>J.value.area=e),placeholder:"请选择地区",class:"filter-item",onKeyup:p(N,["enter"]),clearable:""},{default:c((()=>[d(S,{label:"崇川区",value:"崇川区"}),d(S,{label:"通州区",value:"通州区"}),d(S,{label:"如皋市",value:"如皋市"}),d(S,{label:"海安市",value:"海安市"}),d(S,{label:"海门区",value:"海门区"}),d(S,{label:"如东县",value:"如东县"}),d(S,{label:"启东市",value:"启东市"})])),_:1},8,["modelValue","onKeyup"])])),_:1}),d(t,null,{default:c((()=>[i("span",k,[d($,{type:"success",icon:e.Search,onClick:N},{default:c((()=>[V])),_:1},8,["icon"])])])),_:1})])),_:1},8,["model"])]),d(I,{class:"m-1"},{header:c((()=>[z])),default:c((()=>[m((r(),f(G,{data:U.value,stripe:"",style:{width:"100%"}},{default:c((()=>[d(D,{fixed:"",type:"index",label:"序号",align:"center"},{default:c((e=>[i("span",null,v((J.value.page-1)*J.value.limit+e.$index+1),1)])),_:1}),d(D,{prop:"name",label:"点位名称",align:"center"}),d(D,{prop:"area",label:"点位所在区域",align:"center"}),d(D,{prop:"createTime",label:"创建时间",align:"center"},{default:c((e=>[g(v(b(w)(e.row.createTime)),1)])),_:1}),d(D,{prop:"creatorName",label:"创建人",align:"center"}),d(D,{prop:"status",label:"审核状态",align:"center",formatter:X}),d(D,{label:"操作",align:"center","show-overflow-tooltip":"","min-width":"100%"},{default:c((e=>[d(F,null,{default:c((()=>[d($,{type:"primary",onClick:a=>{return l=e.row,A.value={show:!0,title:"详细信息"},void(E.value={id:l.id,type:l.type,name:l.name,position:{startPosition:l.startPosition,endPosition:l.endPosition},area:l.area,memo:l.memo,status:l.status,patrolPersonList:l.patrolPersonList});var l}},{default:c((()=>[L])),_:2},1032,["onClick"]),d($,{type:"danger",onClick:a=>{return l=e.row,void y.confirm("是否确认删除该条数据, 是否继续?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{x(l.id).then((e=>{_({message:"删除成功！",type:"success"}),M()})).catch((e=>{}))})).catch((()=>{}));var l}},{default:c((()=>[K])),_:2},1032,["onClick"])])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[O,false]]),i("div",T,[m(d(H,{currentPage:J.value.page,"onUpdate:currentPage":a[2]||(a[2]=e=>J.value.page=e),"page-size":J.value.limit,"onUpdate:page-size":a[3]||(a[3]=e=>J.value.limit=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:B.value,onSizeChange:N,onCurrentChange:M},null,8,["currentPage","page-size","total"]),[[h,B.value>0]])])])),_:1}),d(C,{"dialog-line":A.value,"form-data":b(E),onAudit:M},null,8,["dialog-line","form-data"])])}}});export{S as default};
