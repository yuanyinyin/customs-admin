import{d as e,u as s,p as l,r as o,a,g as t,f as i,w as n,j as d,i as r,K as c}from"./vendor-78a6dd30.js";import{r as p,t as u}from"./index-30d780dc.js";const m={class:"dialog-footer"},f=c("取消"),g=c("确 定"),h=e({props:{permissionsDialog:{require:!0,default:null,type:Object}},emits:["giveRules"],setup(e,{emit:c}){const h=e;s();let k=l([]);const y=l(null);let v=l([]);const w={label:"title"},D=()=>{p().then((e=>{k.value=JSON.parse(e.data)}));let e=h.permissionsDialog.option;u(e).then((e=>{const s=e.data;v.value=s}))},b=()=>{const e=[...y.value.getCheckedKeys(),...y.value.getHalfCheckedKeys()];let s=e.join(",");""===s&&(s=" "),c("giveRules",s)},j=()=>{h.permissionsDialog.show=!1,v.value=[]};return(s,l)=>{const c=o("el-tree"),p=o("el-button"),u=o("el-dialog");return a(),t("div",null,[i(u,{modelValue:e.permissionsDialog.show,"onUpdate:modelValue":l[0]||(l[0]=s=>e.permissionsDialog.show=s),title:e.permissionsDialog.title,width:"450px",center:"",onOpen:D,onClose:j,"destroy-on-close":"","close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},{footer:n((()=>[d("span",m,[i(p,{onClick:j},{default:n((()=>[f])),_:1}),i(p,{type:"primary",onClick:b},{default:n((()=>[g])),_:1})])])),default:n((()=>[i(c,{ref_key:"treeRef",ref:y,data:r(k),"default-expand-all":"","show-checkbox":"","node-key":"id","default-checked-keys":r(v),props:w,"check-strictly":!0},null,8,["data","default-checked-keys"])])),_:1},8,["modelValue","title"])])}}});export{h as default};
