import{p as e,a,g as s}from"./vendor-78a6dd30.js";import{_ as r,a as n}from"./index-30d780dc.js";e([]);const i=e("https://www.nteport.com/ycjAdmin"),t={id:"allmap"};var o=r({data:()=>({ak:"OaGr78TjxBO0bS6dxptYXom91MGzFQuT",myMap:null,seaList:"",riverList:""}),created(){this.getPoints()},mounted(){this.initMap()},methods:{initMap(){(this.ak,new Promise((function(e,a){window.init=function(){e(BMapGL)};const s=document.createElement("script");s.type="text/javascript",s.src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=OaGr78TjxBO0bS6dxptYXom91MGzFQuT&callback=init&s=1",s.onerror=a,document.head.appendChild(s)}))).then((e=>{let a=new e.Map("allmap"),s=new e.Point(121.02084,32.216411);a.centerAndZoom(s,11),a.enableScrollWheelZoom(!0),(new e.Boundary).get("南通市",(function(s){for(var r=0;r<s.boundaries.length;r++){for(var n=s.boundaries[r].split(";"),i=[],t=0;t<n.length;t++){var o=n[t].split(","),p=new e.Point(o[0],o[1]);i.push(p)}var c=new e.MapMask(i,{isBuildingMask:!0,isPoiMask:!0,isMapMask:!0,showRegion:"inside",topFillColor:"#009dff",topFillOpacity:1,sideFillColor:"#009dff",sideFillOpacity:1});a.addOverlay(c);var l=new e.Polyline(i,{strokeColor:"#39ffff",strokeWeight:3,strokeOpacity:1});a.addOverlay(l);var d=new e.DistrictLayer({name:"(南通市)",kind:1,fillColor:"#009dff",fillOpacity:.2,strokeColor:"#39ffff",viewport:!0});a.addDistrictLayer(d),d.addEventListener("mouseover",(function(e){e.currentTarget.setFillColor("#0059ff"),e.currentTarget.setFillOpacity(0)})),d.addEventListener("mouseout",(function(e){e.currentTarget.setFillColor(e.currentTarget.style.fillColor),e.currentTarget.setFillOpacity(e.currentTarget.style.fillOpacity)}))}})),setTimeout((()=>{this.seaList.forEach((s=>{var r,n,t,o,p,c=s.position.split(",")[0],l=s.position.split(",")[1];switch(s.riskLevel){case"1":r="低";break;case"2":r="中";break;case"3":r="高"}switch(s.type){case"1":n="码头";break;case"2":n="渔港";break;case"3":n="船闸";break;case"4":n="船舶临时停靠点";break;case"5":n="其他走私风险点"}var d="<div><span>点位类型："+n+"</span><br/><span>风险等级："+r+"</span><br/><span>所在地："+s.area+"</span><br/><span>地址："+s.address+"</span><br/><span>坐标："+s.position+"</span><br/>";if("1"==s.type){switch(s.properties){case"1":t="民企";break;case"2":t="国有";break;case"3":t="合资";break;case"4":t="个体"}switch(s.category){case"1":o="危化品";break;case"2":o="通用散杂货"}switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>性质："+t+"</span><br/><span>类别："+o+"</span><br/><span>泊位数："+s.berthNum+"</span><br/><span>有无吊机："+p+"</span><br/><span>最大吨级："+s.maxTon+"</span>"}else if("2"==s.type){switch(s.category){case"1":o="开放式";break;case"2":o="封闭式"}switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>类别："+o+"</span><br/><span>码头数："+s.dockNum+"</span><span>可停靠船舶数："+s.berthNum+"</span><span>有无吊机："+p+"</span><br/><span>最大吨级："+s.maxTon+"</span>"}else if("3"==s.type){switch(s.category){case"1":o="水闸";break;case"2":o="船闸"}d+="<span>类别："+o+"</span><br/><span>是否通航："+("1"==s.weatherSail?"是":"否")+"</span><br/><span>最大吨级："+s.maxTon+"</span><br/><span>日均进闸船舶数量："+s.averageBoats+"</span>"}else if("4"==s.type){switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>用途："+s.useFor+"</span><br/><span>最大吨级："+s.maxTon+"</span><br/><span>有无吊机："+p+"</span><br/>"}if(s.photoId){d+='<div style="overflow-x: auto;overflow-y: hidden;white-space: nowrap;" >';let e=s.photoId.split(",");for(var b=0;b<e.length;b++)""!=e[b]&&(d+='<img style="height: 150px" src="'+i.value+"/file/downLoad/"+e[b]+'"/>')}d+="</div></div>";var f=new e.Point(c,l);if("1"==s.riskLevel){var w=new e.Circle(f,50,{strokeColor:"#00ff2c",strokeWeight:2,size:50,fillColor:"#00ff2c",fillOpacity:.6});a.addOverlay(w);var h=new e.Icon("/src/views/screen/icons/low.png",new e.Size(20,20));w=new e.Marker(f,{icon:h});a.addOverlay(w)}else if("2"==s.riskLevel){w=new e.Circle(f,50,{strokeColor:"#ffb700",strokeWeight:2,size:50,fillColor:"#ffb700",fillOpacity:.6});a.addOverlay(w);h=new e.Icon("/src/views/screen/icons/middle.png",new e.Size(20,20)),w=new e.Marker(f,{icon:h});a.addOverlay(w)}else{w=new e.Circle(f,50,{strokeColor:"#ff0000",strokeWeight:2,size:50,fillColor:"#ff0000",fillOpacity:.6});a.addOverlay(w);h=new e.Icon("/src/views/screen/icons/high.png",new e.Size(20,20)),w=new e.Marker(f,{icon:h});a.addOverlay(w)}var v={width:500,height:500,title:s.name},k=new e.InfoWindow(d,v);w.addEventListener("click",(function(){a.openInfoWindow(k,f)}))})),this.riverList.forEach((s=>{var r,n,t,o,p,c=s.position.split(",")[0],l=s.position.split(",")[1];switch(s.riskLevel){case"1":r="低";break;case"2":r="中";break;case"3":r="高"}switch(s.type){case"1":n="码头";break;case"2":n="渔港";break;case"3":n="船闸";break;case"4":n="船舶临时停靠点";break;case"5":n="其他走私风险点"}var d="<div><span>点位类型："+n+"</span><br/><span>风险等级："+r+"</span><br/><span>所在地："+s.area+"</span><br/><span>地址："+s.address+"</span><br/><span>坐标："+s.position+"</span><br/>";if("1"==s.type){switch(s.properties){case"1":t="民企";break;case"2":t="国有";break;case"3":t="合资";break;case"4":t="个体"}switch(s.category){case"1":o="危化品";break;case"2":o="通用散杂货"}switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>性质："+t+"</span><br/><span>类别："+o+"</span><br/><span>泊位数："+s.berthNum+"</span><br/><span>有无吊机："+p+"</span><br/><span>最大吨级："+s.maxTon+"</span>"}else if("2"==s.type){switch(s.category){case"1":o="开放式";break;case"2":o="封闭式"}switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>类别："+o+"</span><br/><span>码头数："+s.dockNum+"</span><br/><span>可停靠船舶数："+s.berthNum+"</span><br/><span>有无吊机："+p+"</span><br/><span>最大吨级："+s.maxTon+"</span>"}else if("3"==s.type){switch(s.category){case"1":o="水闸";break;case"2":o="船闸"}d+="<span>类别："+o+"</span><br/><span>是否通航："+("1"==s.weatherSail?"是":"否")+"</span><br/><span>最大吨级："+s.maxTon+"</span><br/><span>日均进闸船舶数量："+s.averageBoats+"</span>"}else if("4"==s.type){switch(s.crane){case"1":p="有";break;case"2":p="无"}d+="<span>用途："+s.useFor+"</span><br/><span>最大吨级："+s.maxTon+"</span><br/><span>有无吊机："+p+"</span><br/>"}if(s.photoId){d+='<div style="overflow-x: auto;overflow-y: hidden;white-space: nowrap;" >';let e=s.photoId.split(",");for(var b=0;b<e.length;b++)""!=e[b]&&(d+='<img style="height: 150px" src="'+i.value+"/file/downLoad/"+e[b]+'"/>')}d+="</div></div>";var f=new e.Point(c,l),w=new e.Marker(f);a.addOverlay(w);var h={width:500,height:500,title:s.name},v=new e.InfoWindow(d,h);w.addEventListener("click",(function(){a.openInfoWindow(v,f)}))}))}),500)})).catch((e=>{}))},getPoints(){n().then((e=>{this.seaList=e.data.sea,this.riverList=e.data.river}))}}},[["render",function(e,r,n,i,o,p){return a(),s("div",t)}],["__scopeId","data-v-dff8e34c"]]);export{o as default};
