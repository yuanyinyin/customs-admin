import{d as e,p as l,u as a,r as o,a as t,g as d,f as r,w as u,j as i,K as s}from"./vendor-78a6dd30.js";import{v as m}from"./index-30d780dc.js";const n={class:"dialog-footer"},f=s("取消"),p=s("确定"),g=e({props:{dialogRoles:{require:!0,default:null,type:Object},formData:{require:!0,default:null,type:Object}},emits:["handleSubmitAdd","handleSubmitEdit"],setup(e,{emit:s}){const g=e,h=l({roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],roleCode:[{required:!0,validator:(e,l,a)=>{""===l?a(new Error("请输入角色编码")):m(l,g.formData.id).then((e=>{"exists"===e.data?a(new Error("角色编码已经存在，不能重复")):a()}))},trigger:"blur"}]}),c=l(null);a();const b=()=>{g.dialogRoles.show=!1,c.value.resetFields()};return(l,a)=>{const m=o("el-input"),w=o("el-form-item"),V=o("el-form"),v=o("el-button"),y=o("el-dialog");return t(),d("div",null,[r(y,{modelValue:e.dialogRoles.show,"onUpdate:modelValue":a[3]||(a[3]=l=>e.dialogRoles.show=l),title:e.dialogRoles.title,width:"30%",center:""},{footer:u((()=>[i("span",n,[r(v,{onClick:b},{default:u((()=>[f])),_:1}),r(v,{type:"primary",onClick:a[2]||(a[2]=e=>{c.value.validate((e=>{if(!e)return!1;"add"===g.dialogRoles.option?s("handleSubmitAdd"):s("handleSubmitEdit")}))})},{default:u((()=>[p])),_:1})])])),default:u((()=>[r(V,{ref_key:"refRolesForm",ref:c,model:e.formData,"label-width":"80px",rules:h.value},{default:u((()=>[r(w,{label:"角色名称",prop:"roleName"},{default:u((()=>[r(m,{modelValue:e.formData.roleName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.roleName=l),placeholder:"角色名称",style:{width:"90%"}},null,8,["modelValue"])])),_:1}),r(w,{label:"角色编码",prop:"roleCode"},{default:u((()=>[r(m,{modelValue:e.formData.roleCode,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.roleCode=l),placeholder:"角色编码",style:{width:"90%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{g as default};
