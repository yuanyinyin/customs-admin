import{d as e,p as a,l,r as t,a as r,g as o,f as d,w as i,j as s,b as u,y as n,X as m,K as p,Y as f}from"./vendor-78a6dd30.js";import{c as g}from"./index-30d780dc.js";function b(e){return g({url:"/task/listPage",method:"get",data:e,bfLoading:!0,isParams:!0,isAlertErrorMsg:!0})}function D(e,a){return g({url:`/task/update/${e}`,data:a,method:"post",bfLoading:!0,isAlertErrorMsg:!0})}function c(e){return g({url:"/task/create",data:e,method:"post",bfLoading:!0,isAlertErrorMsg:!0})}function h(e){return g({url:`/task/delete/${e}`,method:"post",bfLoading:!0,isAlertErrorMsg:!0})}function y(e){return g({url:`/task/queryPersonByHeadId/${e}`,method:"get",bfLoading:!0,isAlertErrorMsg:!0})}const v={class:"dialog-footer"},V=p("取 消"),k=p("确 定"),_=p("确 定"),L=e({props:{userDialog:{require:!0,default:null,type:Object},formData:{require:!0,default:null,type:Object}},emits:["userHandleSubmitAdd","userHandleSubmitEdit"],setup(e,{emit:p}){const b=e,D=a(null),c=a({add:!1}),h=a({detail:[{required:!0,message:"请输入详情",trigger:"blur"}],personList:[{required:!0,message:"请选择交办人员",trigger:"blur"}]}),y=a([]);l((()=>{L()}));const L=()=>{g({url:"/task/queryAllPerson",method:"get",bfLoading:!0,isParams:!0,isAlertErrorMsg:!0}).then((e=>{y.value=e.data})).catch((e=>{}))},w=()=>{b.userDialog.show=!1,D.value.resetFields()};return(a,l)=>{const g=t("el-form-item"),y=t("el-input"),L=t("el-form"),A=t("el-button"),x=t("el-dialog");return r(),o("div",null,[d(x,{modelValue:e.userDialog.show,"onUpdate:modelValue":l[7]||(l[7]=a=>e.userDialog.show=a),title:e.userDialog.title,width:"50%",center:""},{footer:i((()=>[s("span",v,[d(A,{onClick:w},{default:i((()=>[V])),_:1}),"add"===e.userDialog.option?(r(),u(A,{key:0,type:"primary",disabled:c.value.add,onClick:l[5]||(l[5]=e=>{D.value.validate((e=>{if(!e)return!1;c.value.add=!0,"add"===b.userDialog.option&&p("userHandleSubmitAdd"),c.value.add=!1}))})},{default:i((()=>[k])),_:1},8,["disabled"])):n("v-if",!0),"edit"===e.userDialog.option?(r(),u(A,{key:1,type:"primary",onClick:l[6]||(l[6]=e=>{D.value.validate((e=>{if(!e)return!1;"edit"===b.userDialog.option&&p("userHandleSubmitEdit")}))})},{default:i((()=>[_])),_:1})):n("v-if",!0)])])),default:i((()=>[d(L,{ref_key:"refUserForm",ref:D,model:e.formData,rules:h.value,"label-width":"80px"},{default:i((()=>["edit"===e.userDialog.option?m((r(),u(g,{key:0,label:"id",prop:"id"},null,512)),[[f,!1]]):n("v-if",!0),"detail"===e.userDialog.option?(r(),u(g,{key:1,label:"发布日期",prop:"declareDate"},{default:i((()=>[d(y,{modelValue:e.formData.declareDate,"onUpdate:modelValue":l[0]||(l[0]=a=>e.formData.declareDate=a),placeholder:"发布日期",disabled:"detail"==e.userDialog.option},null,8,["modelValue","disabled"])])),_:1})):n("v-if",!0),d(g,{label:"发布详情",prop:"detail"},{default:i((()=>[d(y,{modelValue:e.formData.detail,"onUpdate:modelValue":l[1]||(l[1]=a=>e.formData.detail=a),placeholder:"详情",rows:10,type:"textarea",disabled:"detail"==e.userDialog.option},null,8,["modelValue","disabled"])])),_:1}),d(g,{label:"责任部门",prop:"deptName"},{default:i((()=>[d(y,{modelValue:e.formData.deptName,"onUpdate:modelValue":l[2]||(l[2]=a=>e.formData.deptName=a),placeholder:"详情",disabled:"detail"==e.userDialog.option},null,8,["modelValue","disabled"])])),_:1}),d(g,{label:"开始日期",prop:"startDate"},{default:i((()=>[d(y,{modelValue:e.formData.startDate,"onUpdate:modelValue":l[3]||(l[3]=a=>e.formData.startDate=a),placeholder:"详情",disabled:"detail"==e.userDialog.option},null,8,["modelValue","disabled"])])),_:1}),d(g,{label:"结束每期",prop:"endDate"},{default:i((()=>[d(y,{modelValue:e.formData.endDate,"onUpdate:modelValue":l[4]||(l[4]=a=>e.formData.endDate=a),placeholder:"详情",disabled:"detail"==e.userDialog.option},null,8,["modelValue","disabled"])])),_:1}),n(' <el-form-item label="交办人员" prop="personList">\r\n          <el-select v-model="formData.personList"  clearable  multiple style="width: 90%" size="large" :disabled="userDialog.option  == \'detail\'">\r\n              <el-option\r\n                v-for="item in personList"\r\n                :key="item.id"\r\n                :label="item.realName"\r\n                :value="item.id"\r\n              >\r\n                <span style="float: left;line-height:34px;">{{ item.realName }}</span>\r\n                <span style="float: right;color: grey;line-height:34px;" >{{ item.deptName }}</span>\r\n              </el-option>\r\n            </el-select>\r\n         </el-form-item> '),n(' \r\n         <el-form-item label="交办人员" prop="personList">\r\n          <el-tree-select v-model="formData.personList" :data="personList" \r\n          :render-after-expand="false" multiple show-checkbox style="width: 90%" size="large" :disabled="userDialog.option  == \'detail\'"/>\r\n         </el-form-item> ')])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});var w=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as _,c as a,h as d,b as g,y as q,w as t,D as u};
